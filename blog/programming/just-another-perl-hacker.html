<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Just Another Perl Hacker</title>
        <link rel="stylesheet" href="../assets/fonts.css">
        <link rel="stylesheet" href="../assets/graphite.css">
        <link rel="stylesheet" href="../assets/pygments.css">
        

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script>

       <script src="https://unpkg.com/function-plot/dist/function-plot.js"></script>

        
        
    </head>
    <body class="node-programming-just-another-perl-hacker node-programming node">
        <header class="masthead">
            <h1><a href="../index.html">Sam's blog</a></h1>
            
                <p class="tagline">Assorted ideas, thoughts and considerations</p>
            
            
            <nav class="menu">
                <input id="menu-check" type="checkbox"/>
                <label id="menu-label" for="menu-check" class="unselectable">
                    <span class="icon close-icon">✕</span>
                    <span class="icon open-icon">☰</span>
                    <span class="text">Menu</span>
                </label>
                <ul>
<li><a href="../index.html">Home</a></li>
<li><a href="../programming.html">Programming</a></li>
<li><a href="../economics.html">Economics</a></li>
<li><a href="../computer-science.html">Computer Science</a></li>
<li><a href="../random.html">Random</a></li>
<li><a href="../scratchpad.html">Scratchpad</a></li>
</ul>
            </nav>
        </header>
        <article class="main">
            <header class="title">
                <h1>Just Another Perl Hacker</h1>
                
                <hr>
            </header>
            <p>
I'll be working with perl starting from next week so I spent yesterday learning it. Today is day two and I came up with the following.
</p>
<pre class="lang-perl pygments" data-lang="perl">
<span class="k">use</span> <span class="nn">feature</span> <span class="sx">qw(say)</span><span class="p">;</span>

<span class="o">*</span><span class="n">SHIFT</span><span class="o">=</span><span class="n">sub</span><span class="p">{</span><span class="k">return</span> <span class="n">sub</span><span class="p">{</span><span class="k">my</span><span class="nv">$shift</span><span class="o">=</span><span class="nb">shift</span><span class="p">;</span><span class="n">sub</span><span class="p">{</span>
<span class="nv">$shift</span><span class="p">}}</span><span class="k">if</span> <span class="ow">not</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">shift</span><span class="p">);</span><span class="n">sub</span><span class="p">{</span><span class="n">sub</span><span class="p">{</span><span class="nb">shift</span><span class="p">}};}</span>
<span class="p">;</span><span class="o">*</span><span class="n">SUB</span><span class="o">=</span><span class="n">sub</span><span class="p">{</span><span class="k">my</span><span class="nv">$shift</span><span class="o">=</span><span class="nb">shift</span><span class="p">;</span><span class="k">return</span><span class="nv">$shift</span><span class="o">/</span><span class="p">(</span>
<span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SUBSHIFT</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span><span class="k">if</span> <span class="ow">not</span><span class="nv">$shift</span> <span class="nv">%</span>
<span class="nv">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">));</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SHIFT</span><span class="o">-&gt;</span>
<span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">))))</span><span class="o">*</span><span class="nv">$shift</span><span class="p">);}</span>
<span class="p">;</span><span class="o">*</span><span class="n">SUBSHIFT</span><span class="o">=</span><span class="n">sub</span><span class="p">{</span><span class="nb">int</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">shift</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">);};</span>
<span class="o">*</span><span class="n">SHIFTSUB</span><span class="o">=</span><span class="n">sub</span><span class="p">{</span><span class="k">my</span><span class="p">(</span><span class="nv">$shift</span><span class="p">,</span><span class="nv">$SHIFT</span><span class="p">)</span><span class="o">=</span><span class="p">(</span><span class="nb">shift</span><span class="p">,</span>
<span class="nb">shift</span><span class="p">);</span><span class="nn">SHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$shift</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">sub</span><span class="p">{</span><span class="nv">$SHIFT</span><span class="p">})</span><span class="o">-&gt;</span><span class="p">(</span>
<span class="n">sub</span><span class="p">{</span><span class="nn">SHIFTSUB</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUB</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$shift</span><span class="p">),</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span>
<span class="nv">$SHIFT</span><span class="p">))})</span><span class="o">-&gt;</span><span class="p">();};</span><span class="o">*</span><span class="n">SHIFTSUBSHIFT</span><span class="o">=</span><span class="n">sub</span><span class="p">{</span>
<span class="nn">SHIFTSUB</span><span class="o">-&gt;</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">shift</span><span class="p">),</span><span class="mi">0</span><span class="p">)};</span><span class="n">say</span> <span class="nb">join</span><span class="s">&quot;&quot;</span><span class="p">,</span>
<span class="nb">map</span><span class="p">{</span><span class="nb">chr</span><span class="p">}</span><span class="nb">map</span><span class="p">{</span><span class="nn">SHIFTSUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$_</span><span class="p">)}(</span>
<span class="mi">18889465931478580854784</span><span class="p">,</span>
<span class="mi">36893488147419103232</span><span class="p">,</span>
<span class="mi">1208925819614629174706176</span><span class="p">,</span>
<span class="mi">4722366482869645213696</span><span class="p">);</span>
</pre>
<p>
Here's a more deobfuscated version
</p>
<pre class="lang-perl pygments" data-lang="perl">
<span class="k">use</span> <span class="nn">feature</span> <span class="sx">qw(say)</span><span class="p">;</span>

<span class="o">*</span><span class="n">SHIFT</span> <span class="o">=</span> <span class="k">sub</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">sub</span> <span class="p">{</span> <span class="k">my</span> <span class="nv">$shift</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span> <span class="k">sub</span> <span class="p">{</span> <span class="nv">$shift</span><span class="p">}</span> <span class="p">}</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="nb">shift</span><span class="p">);</span>
    <span class="k">sub</span> <span class="p">{</span> <span class="k">sub</span> <span class="p">{</span> <span class="nb">shift</span> <span class="p">}</span> <span class="p">};</span>
<span class="p">};</span>

<span class="o">*</span><span class="n">SUB</span>  <span class="o">=</span> <span class="k">sub</span> <span class="p">{</span>
    <span class="k">my</span> <span class="nv">$shift</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
    <span class="k">return</span> <span class="nv">$shift</span> <span class="o">/</span> <span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="n">SUBSHIFT</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span> <span class="k">if</span> <span class="ow">not</span> <span class="nv">$shift</span> <span class="nv">%</span> <span class="nv">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)));</span>
    <span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="mi">0</span><span class="p">))))</span> <span class="o">*</span> <span class="nv">$shift</span><span class="p">);</span>
<span class="p">};</span>

<span class="o">*</span><span class="n">SUBSHIFT</span> <span class="o">=</span> <span class="k">sub</span> <span class="p">{</span>
    <span class="nb">int</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">shift</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">};</span>

<span class="o">*</span><span class="n">SHIFTSUB</span> <span class="o">=</span> <span class="k">sub</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$shift</span><span class="p">,</span> <span class="nv">$SHIFT</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nb">shift</span><span class="p">,</span> <span class="nb">shift</span><span class="p">);</span>
    <span class="nn">SHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$shift</span><span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span>
        <span class="k">sub</span> <span class="p">{</span> <span class="nv">$SHIFT</span><span class="p">}</span>
    <span class="p">)</span><span class="o">-&gt;</span><span class="p">(</span>
        <span class="k">sub</span> <span class="p">{</span> <span class="nn">SHIFTSUB</span><span class="o">-&gt;</span><span class="p">(</span><span class="nn">SUB</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$shift</span><span class="p">),</span> <span class="nn">SUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$SHIFT</span><span class="p">))</span> <span class="p">}</span>
    <span class="p">)</span><span class="o">-&gt;</span><span class="p">();</span>
<span class="p">};</span>

<span class="o">*</span><span class="n">SHIFTSUBSHIFT</span> <span class="o">=</span> <span class="k">sub</span> <span class="p">{</span>
    <span class="nn">SHIFTSUB</span><span class="o">-&gt;</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">shift</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">};</span>

<span class="n">say</span> <span class="nb">join</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="nb">map</span> <span class="p">{</span> <span class="nb">chr</span> <span class="p">}</span> <span class="nb">map</span> <span class="p">{</span> <span class="nn">SHIFTSUBSHIFT</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$_</span><span class="p">)</span> <span class="p">}</span> <span class="p">(</span><span class="mi">18889465931478580854784</span><span class="p">,</span> <span class="mi">36893488147419103232</span><span class="p">,</span> <span class="mi">1208925819614629174706176</span><span class="p">,</span> <span class="mi">4722366482869645213696</span><span class="p">);</span>
</pre>
        </article>
        
    </body>
</html>
